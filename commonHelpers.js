var g=(t,e,o)=>{if(!e.has(t))throw TypeError("Cannot "+o)};var c=(t,e,o)=>(g(t,e,"read from private field"),o?o.call(t):e.get(t)),d=(t,e,o)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,o)},p=(t,e,o,s)=>(g(t,e,"write to private field"),s?s.call(t,o):e.set(t,o),o);import{S as I,i as E}from"./assets/vendor-5b791d57.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const v="28194821-49041d995ecd04735d9e20d11",q="https://pixabay.com/api/";var l,m,i;class x{constructor(){d(this,l,1);d(this,m,20);d(this,i,"")}async getPhotos(e){const o=`${q}?key=${v}&q=${c(this,i)}&page=${c(this,l)}&per_page=${c(this,m)}`;return await(await fetch(o)).json()}get query(){return c(this,i)}set query(e){p(this,i,e)}incrementPage(){p(this,l,c(this,l)+1)}}l=new WeakMap,m=new WeakMap,i=new WeakMap;const w=new I(".gallery a",{scaleImageToRatio:!0,captionsData:"alt",captionPosition:"bottom",captionDelay:250});function L(t){if(t.length===0){iziToast.show({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"});return}t.forEach(e=>{const o=document.createElement("div");o.classList.add("card");const s=document.createElement("a");s.href=e.webformatURL;const r=document.createElement("img");r.src=e.webformatURL,r.alt=e.tags,r.addEventListener("click",()=>{w.open({items:[{src:e.largeImageURL,title:e.tags}]})});const n=document.createElement("p");n.textContent="Likes: "+e.likes;const a=document.createElement("p");a.textContent="Views: "+e.views;const f=document.createElement("p");f.textContent="Comments: "+e.comments;const y=document.createElement("p");y.textContent="Downloads: "+e.downloads,s.appendChild(r),o.appendChild(s),o.appendChild(n),o.appendChild(a),o.appendChild(f),o.appendChild(y),gallery.appendChild(o)}),w.refresh()}const $=document.getElementById("searchForm"),O=document.getElementById("searchInput"),P=document.getElementById("loader"),T=document.getElementById("gallery"),u=new x;let h;function b(){setTimeout(()=>{P.style.display="none"},750)}$.addEventListener("submit",async function(t){if(t.preventDefault(),h=O.value.trim(),h===""){E.show({title:"Error",message:"Please enter a search term.",backgroundColor:"orange"});return}P.style.display="block",T.innerHTML="",u.query=h;try{b();let e=await u.getPhotos();L(e.hits)}catch(e){C(e)}});function C(t){E.show({title:"Error",message:"An error occurred. Please try again later.",backgroundColor:"red"}),console.error("Error:",t)}window.addEventListener("scroll",A);async function A(){if(window.innerHeight+window.scrollY>=document.body.offsetHeight)try{b();let t=await u.getPhotos();u.incrementPage(),L(t.hits)}catch(t){C(t)}}
//# sourceMappingURL=commonHelpers.js.map
