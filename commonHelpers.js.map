{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '28194821-49041d995ecd04735d9e20d11';\nconst BaseUrl = 'https://pixabay.com/api/';\nexport class PixabayAPI {\n  #page = 1;\n  #per_page = 20;\n  #query = '';\n \n  async getPhotos(query) {\n        \n    const urlGetData = `${BaseUrl}?key=${API_KEY}&q=${this.#query}&page=${this.#page}&per_page=${this.#per_page}`;\n   \n    const data = await fetch(urlGetData);\n    \n    return await data.json();\n  }\n\n  get query() {\n   return this.#query;\n  }\n\n  set query(newQuery) {\n    this.#query = newQuery;\n  }\n\n  incrementPage() {\n    this.#page += 1;\n  }\n\n \n}","import SimpleLightbox from 'simplelightbox';\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst lightbox = new SimpleLightbox('.gallery a', {\n    scaleImageToRatio: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n  });\n\nexport function displayImages(images) {\n    if (images.length === 0) {\n        iziToast.show({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n    }\n\n    images.forEach(image => {\n        const cardHTML = `\n            <div class=\"card\">\n                <a href=\"${image.webformatURL}\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n                </a>\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n            </div>\n        `;\n    \n        gallery.insertAdjacentHTML('beforeend', cardHTML);\n    \n        const imgElement = gallery.lastElementChild.querySelector('img');\n        imgElement.addEventListener('click', () => {\n            lightbox.open({\n                items: [{ src: image.largeImageURL, title: image.tags }],\n            });\n        });\n    });\n    \n    lightbox.refresh();\n    \n}","import { PixabayAPI } from './js/pixabay-api';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { displayImages } from './js/render-functions';\nconst form = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst loader = document.getElementById('loader');\nconst gallery = document.getElementById('gallery');\nconst api = new PixabayAPI();\nlet searchTerm;\nfunction showLoader() {\n    setTimeout(()=>{\n        loader.style.display = 'none';\n    }, 750);\n}\nform.addEventListener('submit', async function (e) {\n    e.preventDefault();\n\n     searchTerm = searchInput.value.trim();\n\n    if (searchTerm === '') {\n        iziToast.show({\n            title: 'Error',\n            message: 'Please enter a search term.',\n            backgroundColor: 'orange',\n        });\n        return;\n    }\n\n    loader.style.display = 'block';\n    gallery.innerHTML = '';\n       \n    api.query = searchTerm;\n    try { \n        showLoader();\n        let photos = await api.getPhotos();\n        \n        displayImages(photos.hits);\n    \n     } catch(error) {\n       handleError(error) \n     }\n    \n   \n});\n\nfunction handleError(error) {\n    iziToast.show({\n        title: 'Error',\n        message: 'An error occurred. Please try again later.',\n        backgroundColor: 'red',\n    });\n    console.error('Error:', error);\n}\n\nwindow.addEventListener('scroll', scrollFunction);\n\nasync function scrollFunction() {\n  if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n      \ntry { \n    showLoader();\n    let photos = await api.getPhotos();\n    api.incrementPage();\n    displayImages(photos.hits);\n\n } catch(error) {\n   handleError(error) \n }\n  } \n};\n\n\n"],"names":["API_KEY","BaseUrl","PixabayAPI","__privateAdd","_page","_per_page","_query","query","urlGetData","__privateGet","newQuery","__privateSet","lightbox","SimpleLightbox","displayImages","images","image","cardHTML","form","searchInput","loader","gallery","api","searchTerm","showLoader","e","iziToast","photos","error","handleError","scrollFunction"],"mappings":"glCAAA,MAAMA,EAAU,qCACVC,EAAU,qCACT,MAAMC,CAAW,CAAjB,cACLC,EAAA,KAAAC,EAAQ,GACRD,EAAA,KAAAE,EAAY,IACZF,EAAA,KAAAG,EAAS,IAET,MAAM,UAAUC,EAAO,CAErB,MAAMC,EAAa,GAAGP,CAAO,QAAQD,CAAO,MAAMS,EAAA,KAAKH,EAAM,SAASG,EAAA,KAAKL,EAAK,aAAaK,EAAA,KAAKJ,EAAS,GAI3G,OAAO,MAFM,MAAM,MAAMG,CAAU,GAEjB,MACnB,CAED,IAAI,OAAQ,CACX,OAAOC,EAAA,KAAKH,EACZ,CAED,IAAI,MAAMI,EAAU,CAClBC,EAAA,KAAKL,EAASI,EACf,CAED,eAAgB,CACdC,EAAA,KAAKP,EAALK,EAAA,KAAKL,GAAS,EACf,CAGH,CA1BEA,EAAA,YACAC,EAAA,YACAC,EAAA,YCHF,MAAMM,EAAW,IAAIC,EAAe,aAAc,CAC9C,kBAAmB,GACnB,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEI,SAASC,EAAcC,EAAQ,CAClC,GAAIA,EAAO,SAAW,EAAG,CACrB,SAAS,KAAK,CACV,MAAO,OACP,QAAS,0EACrB,CAAS,EACD,MACH,CAEDA,EAAO,QAAQC,GAAS,CACpB,MAAMC,EAAW;AAAA;AAAA,2BAEED,EAAM,YAAY;AAAA,gCACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,4BAE1CA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA,UAIvC,QAAQ,mBAAmB,YAAaC,CAAQ,EAE7B,QAAQ,iBAAiB,cAAc,KAAK,EACpD,iBAAiB,QAAS,IAAM,CACvCL,EAAS,KAAK,CACV,MAAO,CAAC,CAAE,IAAKI,EAAM,cAAe,MAAOA,EAAM,KAAM,CACvE,CAAa,CACb,CAAS,CACT,CAAK,EAEDJ,EAAS,QAAO,CAEpB,CCvCA,MAAMM,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAU,SAAS,eAAe,SAAS,EAC3CC,EAAM,IAAIpB,EAChB,IAAIqB,EACJ,SAASC,GAAa,CAClB,WAAW,IAAI,CACXJ,EAAO,MAAM,QAAU,MAC1B,EAAE,GAAG,CACV,CACAF,EAAK,iBAAiB,SAAU,eAAgBO,EAAG,CAK/C,GAJAA,EAAE,eAAc,EAEfF,EAAaJ,EAAY,MAAM,OAE5BI,IAAe,GAAI,CACnBG,EAAS,KAAK,CACV,MAAO,QACP,QAAS,8BACT,gBAAiB,QAC7B,CAAS,EACD,MACH,CAEDN,EAAO,MAAM,QAAU,QACvBC,EAAQ,UAAY,GAEpBC,EAAI,MAAQC,EACZ,GAAI,CACAC,IACA,IAAIG,EAAS,MAAML,EAAI,YAEvBR,EAAca,EAAO,IAAI,CAE3B,OAAOC,EAAO,CACbC,EAAYD,CAAK,CAClB,CAGN,CAAC,EAED,SAASC,EAAYD,EAAO,CACxBF,EAAS,KAAK,CACV,MAAO,QACP,QAAS,6CACT,gBAAiB,KACzB,CAAK,EACD,QAAQ,MAAM,SAAUE,CAAK,CACjC,CAEA,OAAO,iBAAiB,SAAUE,CAAc,EAEhD,eAAeA,GAAiB,CAC9B,GAAK,OAAO,YAAc,OAAO,SAAY,SAAS,KAAK,aAE7D,GAAI,CACAN,IACA,IAAIG,EAAS,MAAML,EAAI,YACvBA,EAAI,cAAa,EACjBR,EAAca,EAAO,IAAI,CAE3B,OAAOC,EAAO,CACbC,EAAYD,CAAK,CAClB,CAEF"}